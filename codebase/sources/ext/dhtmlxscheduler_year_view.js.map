{"version":3,"file":"dhtmlxscheduler_year_view.js","sources":["dhtmlxscheduler_year_view.js"],"names":["Scheduler","plugin","scheduler","config","year_x","year_y","xy","year_top","templates","year_date","date","date_to_str","locale","labels","year_tab","year_month","year_scale_date","year_tooltip","s","e","ev","text","is_year_mode","_mode","dblclick_dhx_month_head","t","target","srcElement","className","_getClassName","parentNode","indexOf","monthNode","hasAttribute","start","this","xml_date","getAttribute","setDate","parseInt","innerHTML","end","add","readonly","dblclick_create","addEventNow","valueOf","chid","changeEventId","apply","arguments","year_view","old","render_data","to_attr","from_attr","str_to_date","evs","i","length","_year_render_event","clear","clear_view","dates","_year_marked_cells","div","hasOwnProperty","setAttribute","_hideToolTip","_tooltip","style","display","Date","_showToolTip","pos","src","document","createElement","body","appendChild","onclick","_click","dhx_cal_data","getEvents","html","filter_event","id","bg_color","color","textColor","_timed","event_date","start_date","end_date","top","offsetWidth","left","offsetHeight","_year_view_tooltip_handler","event","tagName","toLowerCase","getOffset","_init_year_tooltip","_detachDomEvent","_els","dhtmlxEvent","attachEvent","_get_year_cell","d","m","getMonth","getFullYear","_min_date","week_starts","_month","childNodes","getDate","querySelector","firstChild","rows","Math","floor","cells","_mark_year_date","c","ev_class","event_class","_unmark_year_date","date_part","_max_date","mode","temp","scale_height","set_sizes","_table_view","_load_mode","_load","_reset_year_scale","_render_wait","render_view_data","_cols","_colsS","b","scrollTop","dx","width","dy","height","scroll_width","summ","week_template","dummy_date","week_start","_currentDate","_process_ignores","scales_count","_ignores_detected","real_count","_ignores","_render_x_header","lastChild","_waiAria","yearHeadCell","sd","copy","_date","ssd","j","cssText","xml_format","header","grid","weekHeader","headerId","uid","yearHeader","yearGrid","dd","days","_reset_month_scale","querySelectorAll","day","yearDayCell","dt","round","marginTop","set_xy","getDay","start_on_monday","getActionData","n_ev","trg","_get_year_month_date","_get_year_month_cell","_get_year_day_indexes","week","section","targetCell","month","_get_year_el_node","_locate_year_month_table","weeks","w","getElementsByTagName","node","_locate_year_month_root","month_start","_locate_year_month_day","n","locateEvent","_locate_event","dat","_locate_year_month_cell","nodeName","_get_year_month_table","_get_year_month_root","condition"],"mappings":"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"}