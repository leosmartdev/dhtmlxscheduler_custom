{"version":3,"file":"dhtmlxscheduler_timeline.js","sources":["dhtmlxscheduler_timeline.js"],"names":["Scheduler","plugin","scheduler","_temp_matrix_scope","matrix","_merge","a","b","c","createTimelineView","obj","_skin_init","section_autoheight","name","x","y","x_step","x_unit","y_unit","y_step","x_start","x_size","y_start","y_size","render","dx","dy","event_dy","xy","bar_height","event_min_dy","resize_events","fit_events","show_unassigned","second_scale","round_position","_logic","render_name","timeline","res","checkEvent","callEvent","_original_x_start","first_hour","last_hour","_start_correction","_end_correction","old","render_data","evs","mode","this","_mode","apply","arguments","i","length","clear_event","render_timeline_event","call","_renderMatrix","templates","ar","arr","date","section_id","section_label","section_options","e","text","datea","dateb","getDay","date_part","Date","add","getHours","getMinutes","day_date","week_date","date_to_str","x_date","config","hour_date","step","shift","unit","scroll_step","resulting_date","x_length","size","converted_step","total_steps","steps_offset","Math","round","func","day_start","start_date","start_offset","getTimezoneOffset","new_offset","setTime","getTime","enable","_set_timeline_dates","temp_date","valueOf","pos","ev","_drag_event","_drag_id","getEvent","end_date","_timeline_drag_date","force_redraw","custom","_drag_mode","drag_event","_ignores","_ignores_detected","undefined","_move_delta","preserve_length","_get_real_event_length","_event_length","current_back_shift","_get_fictional_event_length","timeline_swap_resize","_drag_from_start","resize_from_start","time_step","_timeline_get_rounded_date","_resize_from_start","_resolve_timeline_section","section","_update_timeline_section","event","view","_correct_shift","_min_date","_drag_start","pos_changed","_is_pos_changed","_drag_pos","_dhx_changed","has_moved","_prepare_timeline_events","_timeline_trace_events","tevs","get_visible_events","order","j","tev","tev_section","y_property","index","key","hasOwnProperty","clone","_lame_copy","push","_populate_timeline_rendered","container","_rendered","divs","getElementsByTagName","getAttribute","_get_timeline_event_height","event_height","_section_height","max","floor","_count","_get_timeline_event_y","sorder","cascade_event_display","cascade_event_margin","attach","_sorder","_timeline_getX","x_end","hb","_inner","section_height","_events_height","cs","event_class","_no_drag_move","bg_color","color","textColor","event_bar_text","html","_waiAria","eventBarAttrString","id","_text_style","drag_resize","readonly","dhx_event_resize","resize_start","resize_end","_no_resize_start","_no_resize_end","d","document","createElement","innerHTML","ind","parentSection","_els","firstChild","rows","parent","cells","appendChild","_trace_x","isEndPoint","_step","column_offset","_max_date","delta","_min_date_timeline","_get_date_index","_cols","column_date","isEndDate","rounded_date","_timeline_skip_ignored","from","to","visible","splice","_timeline_get_events_html","sort","stack","evs_length","ev_start_date","stack_ev","sorderSet","p","t_ev","h","_is_sorder","t","_max_sorder","w","max_count","m","v","_timeline_y_scale","_load_mode","_load","summ","realcount","_summ","heights","_colsS","render_stats","stats","height","offsetHeight","td_className","label","td_content","tr_className","style_height","style_width","summ_width","table_className","events_html","rendered_height","_matrix","_scales","len","unit_key","scale","_isRender","childNodes","_timeline_x_dates","preserve","start","end","_process_ignores","display_count","total_count","total","displayed","_timeline_x_scale","current_sh","scale_height","original_sh","_header_resized","_x","scroll_width","left","header","style","width","preserve_scale_length","dates","k","control_dates","second_cols","second_left","t_index","l","_timeline_is_new_interval","top","bottom","lastChild","position","tdate","scs","head","className","set_xy","_render_x_header","trace","onclick","_timeline_locate_hcell","ondblclick","control_date","getDate","getMonth","getFullYear","week_start","_timeline_reset_scale_height","replace","_timeline_set_full_view","set_sizes","_init_matrix_tooltip","temp","_mark_now","_timeline_hideToolTip","_tooltip","display","_timeline_showToolTip","offset","mark","body","_click","dhx_cal_data","_timed","event_date","offsetWidth","src","_matrix_tooltip_handler","_locate_cell_timeline","target","srcElement","getOffset","_detachDomEvent","dhtmlxEvent","_date","_table_view","refresh","scrollTop","_timeline_html_index","el","parentNode","nodeIndex","resIndex","colIndex","trg","tagName","_getClassName","split","getActionData","ign","xNonIgnoredInd","xind","diff","isScale","old_click","dhx_marked_timespan","ret","dblclick_dhx_matrix_cell","old_dblclick_marked_timespan","dblclick_dhx_marked_timespan","dblclick_dhx_matrix_scell","attachEvent","type","dblclick_create","event_options","addEventNow","event_id","native_event_object","isOneDayEvent","flag","ev_old","_is_column_visible","start_ind","old_render_marked_timespan","_render_marked_timespan","options","area","unit_id","min_date","max_date","display_marked_timespans","view_opts","blocks","units","areas","sections","days","specific_date","_get_dates_by_index","zones","css_classes","_get_css_classes_by_config","zone_start","zone_end","block","_get_block_by_config","start_pos","end_pos","cssText","insertBefore","old_append_mark_now","_append_mark_now","day_index","now","n_date","_currentDate","_get_zone_minutes","css","oldTimespans","_mark_timespans","getState","r","_on_scale_add_marker","on_scale_marker_add","timespans","_marked_timespans","global_data","t_date","day_value","r_configs","day_types","_get_configs_to_render","z_config","unit_types","_get_types_to_render","day","yind","_orig_section","fields","action","line_height","_get_dnd_order","trace_x","pos_x","ratio","column_width","edge","drag_mode","timestamp_diff","setCurrentView","indexOf"],"mappings":"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"}